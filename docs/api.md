<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [L.tileLayer.offline][1]
-   [L.control.savetiles][2]
-   [TileManager][3]
    -   [tileInfo][4]
    -   [getStorageLength][5]
    -   [getStorageInfo][6]
    -   [downloadTile][7]
    -   [saveTile][8]
    -   [getTileUrl][9]
    -   [getTileUrls][10]
    -   [getStoredTilesAsJson][11]
    -   [removeTile][12]
    -   [truncate][13]
-   [Types][14]
    -   [ControlSaveTiles][15]
        -   [setLayer][16]
        -   [setOption][17]
    -   [ControlStatus][18]
    -   [TileLayerOffline][19]
        -   [getSimultaneous][20]
-   [TileLayerOffline#storagesize][21]
-   [getTile][22]

## L.tileLayer.offline

**Parameters**

-   `url` **[string][23]** [description]
-   `options` **[object][24]** [http://leafletjs.com/reference-1.2.0.html#tilelayer][25]

Returns **[TileLayerOffline][26]** an instance of TileLayerOffline

## L.control.savetiles

**Parameters**

-   `baseLayer` **[object][24]** [http://leafletjs.com/reference-1.2.0.html#tilelayer][25]

**Properties**

-   `options` **[Object][24]** 
    -   `options.position` **[string][23]?** default topleft
    -   `options.saveText` **[string][23]?** html for save button, default +
    -   `options.rmText` **[string][23]?** html for remove button, deflault -
    -   `options.maxZoom` **[number][27]?** maximum zoom level that will be reached
        when saving tiles with saveWhatYouSee. Default 19
    -   `options.saveWhatYouSee` **[boolean][28]?** save the tiles that you see
        on screen plus deeper zooms, ignores zoomLevels options. Default false
    -   `options.confirm` **[function][29]?** function called before confirm, default null.
        Args of function are ControlStatus and callback.
    -   `options.confirmRemoval` **[function][29]?** function called before confirm, default null

Returns **[ControlSaveTiles][30]** 

## TileManager

Manages the storage. Only needed for advanced usage. Methods are available as import. When you include the script directly into your page , they are methods of the LeafletOffline global.


### tileInfo

Type: [Object][24]

**Properties**

-   `key` **[string][23]** storage key
-   `url` **[string][23]** resolved url
-   `urlTemplate` **[string][23]** orig url, used to find tiles per layer
-   `x` **[string][23]** left point of tile
-   `y` **[string][23]** top point coord of tile
-   `z` **[string][23]** tile zoomlevel

### getStorageLength

Returns **[Promise][31]&lt;[Number][27]>** which resolves to int

### getStorageInfo

**Parameters**

-   `urlTemplate` **[string][23]** 

Returns **[Promise][31]&lt;[Array][32]&lt;[tileInfo][33]>>** 

### downloadTile

**Parameters**

-   `tileUrl` **[string][23]** 

Returns **[Promise][31]&lt;[blob][34]>** 

### saveTile

**Parameters**

-   `tileInfo`  
-   `blob` **[blob][34]** 

Returns **[Promise][31]** 

### getTileUrl

**Parameters**

-   `urlTemplate` **[string][23]** 
-   `data` **[object][24]** x, y, z, s
    -   `data.s` **[string][23]** subdomain

Returns **[string][23]** 

### getTileUrls

**Parameters**

-   `layer` **[object][24]** leaflet tilelayer
-   `bounds` **[object][24]** 
-   `zoom` **[number][27]** zoomlevel 0-19

Returns **[Array][32]&lt;[tileInfo][33]>** 

### getStoredTilesAsJson

Get a geojson of tiles from one resource

**Parameters**

-   `layer` **[object][24]** 
-   `tiles` **[Array][32]&lt;[tileInfo][33]>** 

Returns **[object][24]** geojson

### removeTile

Remove tile by key

**Parameters**

-   `key` **[string][23]** 

Returns **[Promise][31]** 

### truncate

Remove everything

Returns **[Promise][31]** 

## Types

The leaflet classes use the following types.


### ControlSaveTiles

Shows control on map to save tiles

**Properties**

-   `status` **[ControlStatus][35]** 

#### setLayer

Change baseLayer

**Parameters**

-   `layer` **[TileLayerOffline][26]** 

#### setOption

Update a config option

**Parameters**

-   `name` **[string][23]** 
-   `value` **mixed** 

### ControlStatus

Status of ControlSaveTiles, keeps info about process during downloading
ans saving tiles. Used internal and as object for events.

Type: [Object][24]

**Properties**

-   `storagesize` **[number][27]** total number of saved tiles.
-   `lengthToBeSaved` **[number][27]** number of tiles that will be saved in db
    during current process
-   `lengthSaved` **[number][27]** number of tiles saved during current process
-   `lengthLoaded` **[number][27]** number of tiles loaded during current process
-   `_tilesforSave` **[array][32]** tiles waiting for processing

### TileLayerOffline

A layer that uses store tiles when available. Falls back to online.
Use this layer directly or extend it

#### getSimultaneous

Returns **[number][27]** Number of simultanous downloads from tile server

## TileLayerOffline#storagesize

Fired when status.storagesize changes

## getTile

**Parameters**

-   `key` **[string][23]** 

Returns **[Promise][31]&lt;[blob][34]>** 

[1]: #ltilelayeroffline

[2]: #lcontrolsavetiles

[3]: #tilemanager

[4]: #tileinfo

[5]: #getstoragelength

[6]: #getstorageinfo

[7]: #downloadtile

[8]: #savetile

[9]: #gettileurl

[10]: #gettileurls

[11]: #getstoredtilesasjson

[12]: #removetile

[13]: #truncate

[14]: #types

[15]: #controlsavetiles

[16]: #setlayer

[17]: #setoption

[18]: #controlstatus

[19]: #tilelayeroffline

[20]: #getsimultaneous

[21]: #tilelayerofflinestoragesize

[22]: #gettile

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[25]: http://leafletjs.com/reference-1.2.0.html#tilelayer

[26]: #tilelayeroffline

[27]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[28]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[29]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[30]: #controlsavetiles

[31]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[32]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[33]: #tileinfo

[34]: https://developer.mozilla.org/docs/Web/API/Blob

[35]: #controlstatus
